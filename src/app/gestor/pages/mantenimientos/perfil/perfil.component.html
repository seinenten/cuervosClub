<app-header-gestor></app-header-gestor>
<br><br>
<mat-drawer-container class="example-container" hasBackdrop="true">
    <mat-drawer #drawer mode="over" position="start"> 
        <app-navbar-gestor></app-navbar-gestor>
    </mat-drawer>
    
    <mat-drawer-content>
        <button (click)="drawer.toggle()" class="btn btn-secondary" ><i class="fa fa-bars"></i> Menu</button>
        <br><br>
<div class="container">
    <div class="row">
        <div class="col-md-6">
            <div class="card">
                <div class="card-body">
                    <h2 class="card-title text-center">Mi perfil de usuario</h2>
                    <h3 class="card-subtitle text-center">Ajustes</h3>
    
                    <form class="form p-t-20"
                        [formGroup]="miFormulario"
                        (ngSubmit)="actualizarPerfil()"        
                    >
    
                        <div class="form-group">
                            <label for="exampleInputuname">Nombre</label>
                            <div class="input-group">
    
                                <div class="input-group-addon"><i class="ti-user"></i></div>                            
                                <input type="text" class="form-control"
                                        id="exampleInputuname" placeholder="Username"
                                        formControlName="nombre"
                                        >
                            
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="exampleInputuname">Apellido Paterno</label>
                            <div class="input-group">
    
                                <div class="input-group-addon"><i class="ti-user"></i></div>                            
                                <input type="text" class="form-control"
                                        id="exampleInputuname" placeholder="Username"
                                        formControlName="apellidoP"
                                        >
                            
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="exampleInputuname">Apellido Materno</label>
                            <div class="input-group">
    
                                <div class="input-group-addon"><i class="ti-user"></i></div>                            
                                <input type="text" class="form-control"
                                        id="exampleInputuname" placeholder="Username"
                                        formControlName="apellidoM"
                                        >
                            
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="exampleInputEmail1">Email address</label>
                            <div class="input-group">
    
                                <div class="input-group-addon"><i class="ti-email"></i></div>
                                <input type="email" class="form-control" 
                                        id="exampleInputEmail1" placeholder="Enter email"
                                        formControlName="email"
                                        [readOnly]="usuario.google"
                                        >
    
                            </div>
                        </div>
    
                        <button type="submit"
                                class="btn btn-success btn-block waves-effect waves-light m-r-10"
                                [disabled]="miFormulario.invalid">
                            <i class="fa fa-save"></i>
                            Guardar cambios
                        </button>
                        
                    </form>
                </div>
            </div>
        </div>
    
        <div class="col-md-6">
            <div class="card">
                <div class="card-body">
                    <h2 class="card-title text-center">Avatar</h2>
                    <h3 class="card-subtitle text-center">Imagen del usuario</h3>
    
                    <div class="text-center">
                        <img *ngIf="!imgTemp" [src]="usuario.imagenUrl" class="img-avatar">
                        <img *ngIf="imgTemp" [src]="imgTemp" class="img-avatar">
                    </div>
    
                    <input type="file"
                            (change)="cambiarImagen($any($event.target).files[0])"
                            >
    
                    <br>
                    <br>
    
                    <button type="button" 
                            class="btn btn-success btn-block waves-effect waves-light m-r-10"
                            [disabled]="!imagenSubir"
                            (click)="subirImagen()"
                            >
                        <i class="fa fa-save"></i>
                        Cambiar imagen
                    </button>
    
                </div>
            </div>
        </div>
        
    </div>
</div>
    
    </mat-drawer-content>    
</mat-drawer-container> 
